.. http://processors.wiki.ti.com/index.php/Processor_SDK_RTOS_TF

Overview
--------

In a multicore environment there would be data generated by a producer
in one core and would need to be consumed by multiple consumers in other
cores/same core. For example, a target log information to be consumed by
ARM and CCS System Analyzer.

The trace framework (TF) provides a mechanism to send the information to
multiple consumers for a given producer. In trace framework, Producer
populates the associated Ring buffer. Consumers consume the ring buffer
and send the data to external actual consumers (like System Analyzer in
CCS). The hand shake between producers and consumers happen using shared
memory area known as contract memory between producers and consumers.

It is upto the consumer application to either send the data to final
consumers (using ethernet for System Analyzer) or local consuption for
any OAM (Operations and maintenance) features on ARM.

Driver Configuration
--------------------

Traceframework requires Producer, Consumer and Contract shared memory to
be configured using tf_contractInit(), tf_contractCreate(),
tf_prodCreate() and tf_consCreate() functions. For details about
individual fields of this structure, see the Doxygen help by opening
PDK_INSTALL_DIR\\Traceframeworkckages\\ti\\drv\\Traceframework\\docs\\doxygen\\html\\index.html.

APIs
----

API reference for application:

::

    #include <ti/instrumentation/traceframework/traceframework.h>

|

Example
-------

+-----------------------+-----------------------+-----------------------+
| Name                  | Description           | Expected Results      |
+=======================+=======================+=======================+
| Traceframework_UnitTe | | Unit Test           | | User observes the   |
| stApplication         |   application to test |   output printed over |
|                       |   all APIs            |   the CCS console     |
+-----------------------+-----------------------+-----------------------+

Application Integration Details
-------------------------------

**Sys BIOS DSP (C66) Use case**

Reference library path to be included in application build environment:

::

     <ti/instrumentation/traceframework/lib/c66>


**SysBIOS based application**

Any RTSC application that needs to use trace framework library, should
have a RTSC configuration file. Please refer to
<ti/instrumentation/traceframework/test/TFUnitTest/<soc>/c66/bios/tfw_Uia_utest.cfg>
sample RTSC cfg file for reference.

|

Additional References
---------------------

+--------------------+-------------------------------------------------+
|                 **Traceframework Library Summary**                   |
+====================+=================================================+
| Component Type     | Library                                         |
+--------------------+-------------------------------------------------+
| Install Package    | PDK                                             |
+--------------------+-------------------------------------------------+
| Install Directory  | pdk_keystone_<version>\\packages\\ti\\          |
|                    | instrumentation\\traceframework                 |
+--------------------+-------------------------------------------------+
| Project Type       | `Eclipse RTSC <http://www.eclipse.org/rtsc/>`__ |
+--------------------+-------------------------------------------------+
| Endian Support     | Little                                          |
+--------------------+-------------------------------------------------+
| Linker Path        | $(TI_PDK_INSTALL_DIR)/packages/ti/              |
|                    | instrumentation/traceframework                  |
+--------------------+-------------------------------------------------+
| Linker Sections    | .vecs , .switch, .args, .cio                    |
+--------------------+-------------------------------------------------+
| Include Paths      | $(TI_PDK_INSTALL_DIR)/packages/ti/              |
|                    | instrumentation/traceframework                  |
+--------------------+-------------------------------------------------+
| Reference Guides   | $(TI_PDK_INSTALL_DIR)/packages/ti/              |
|                    | instrumentation/traceframework/docs/            |
|                    | doxygen/html/index.html                         |
+--------------------+-------------------------------------------------+
| Release Notes      | $(TI_PDK_INSTALL_DIR)/packages/ti/              |
| Resources          | instrumentation/traceframework/docs/            |
|                    | ReleaseNotes_traceframework.pdf                 |
+--------------------+-------------------------------------------------+

